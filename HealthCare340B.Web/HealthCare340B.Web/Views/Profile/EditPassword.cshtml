@model VMMCustomer
@{
    Layout = null;
}

<div class="card">
    <div class="card-body">
        <span>Masukkan Password Anda saat ini</span>
        <form>
            <div class="form-group">
                <label style="font-weight: bold;" for="currentPassword">Password*</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="currentPassword" value="@Model.Password">
                    <div class="input-group-append">
                        <span class="input-group-text" style="background-color: white; cursor: pointer;" onclick="togglePasswordVisibility('currentPassword', this)"><i class="fas fa-eye"></i></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label style="font-weight: bold;" for="confirmPassword">Masukkan ulang password*</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="confirmPassword" value="@Model.Password">
                    <div class="input-group-append">
                        <span class="input-group-text" style="background-color: white; cursor: pointer;" onclick="togglePasswordVisibility('confirmPassword', this)"><i class="fas fa-eye"></i></span>
                    </div>
                </div>
                <small id="passwordAlert" style="font-size: 0.875rem; display: none;" class="text-danger">* Password tidak sama</small>
            </div>
        </form>
        <button style="width: 150px" type="button" class="btn btn-info btn-custom justify-content-center" id="btnConfirmOTP">Konfirmasi OTP</button>
    </div>
</div>

<script>
    $("#staticModalLabel").text("@ViewBag.Title");
    function togglePasswordVisibility(passwordFieldId, iconElement) {
        var passwordField = document.getElementById(passwordFieldId);
        var icon = iconElement.querySelector('i');
        if (passwordField.type === "password") {
            passwordField.type = "text";
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            passwordField.type = "password";
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }

    document.getElementById("btnConfirmOTP").addEventListener("click", function () {
        var currentPassword = document.getElementById("currentPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        if (currentPassword !== confirmPassword) {
            document.getElementById("passwordAlert").style.display = "block";
        } else {
            document.getElementById("passwordAlert").style.display = "none";
            // Proceed with OTP confirmation logic here
            console.log("Passwords match. Proceeding with OTP confirmation.");
        }
    });
</script>